<script type="text/javascript">
    RED.nodes.registerType('openThings-monitor',{
        category: 'Energenie 314RT',
        color: '#82529e',
        defaults: {
            name: {value:"Adaptor Plus"},
            device: {type:"openThings-device", required: true}
        },
        inputs:0,
        outputs:1,
        align: "right",
        icon: "Adaptor.png",
        paletteLabel: 'Monitor',
        label: function() {
            return (this.name || this.label || this.paletteLabel);
        },
        // Update the label to the select device on save (displayed if node name is undefined)
        oneditsave: function(){
            this.label = $('#node-input-device option:selected').text();
        }        
    });
</script>

<script type="text/x-red" data-template-name="openThings-monitor">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-device"><i class="fa fa-plug"></i> Device</label>
        <input type="text" id="node-input-device"/>
    </div>
</script>

<script type="text/x-red" data-help-name="openThings-monitor">
               
    <h3>Outputs</h3>
        <dl class="message-properties">
            <dt>msg
                <span class="property-type">object</span>
            </dt>
            <dd>TBD</dd>
        </dl>

    <h3>Details</h3>
        <p>Node that monitors OpenThings based devices supported by the Energenie Two-way Raspberry Pi Transceiver board (ENER314-RT).</p>
        <p>This includes:</p>
        <ul>
            <li>Pink MiHome Monitor Adapters</li>
            <li>Purple MiHome Adapter Plus</li>
            <li>MiHome Heating TRVs</li>
        </ul>
</script>